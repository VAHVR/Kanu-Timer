<!DOCTYPE html>
<html>
<head>
  <title>Kanu Timer</title>
</head>
<body>

<h1>Kanu Timer</h1>

<button onclick="start()">Start</button>
<button onclick="stop()">Ziel</button>
<button onclick="reset()">Reset</button>

<p>
  Anzahl Tore: <input type="number" id="anzahlTore" value="6" min="1">
  <button onclick="bauTore()">OK</button>
</p>

<div id="torContainer"></div>

<p id="output">Zeit: -</p>

<script>
  // Variablen
  let los = 0;
  let fuenfzig = 0;
  let zwei = 0;
  let startTime = null;
  let intervalId = null; // f체r Live-Update


  // Grundfunktionen
  function start() {
    if (los === 1) {
      alert("Lauf l채uft schon!");
      return;
    }
    startTime = Date.now();
    document.getElementById("output").innerText = "L채uft...";
    los = 1;
    intervalId = setInterval(updateTime, 100); // alle 100ms
  }

  
  function updateTime() {
    const currentTime = (Date.now() - startTime) / 1000;
    const totalTime = currentTime + fuenfzig * 50 + zwei * 2;
    document.getElementById("output").innerText =
      "Zeit: " + totalTime.toFixed(2) + " s";
  }

  function stop() {
    if (los === 1) {
      updateTime(); // einmal final updaten
      clearInterval(intervalId);
      los = 0;

    } else {
      alert("Bitte zuerst Start dr체cken!");
    }
    los = 0;
  }

  function reset() {
    clearInterval(intervalId);
    startTime = null;
    los = 0;
    fuenfzig = 0;
    zwei = 0;
    document.getElementById("output").innerText = "Zeit: -";
    document.getElementById("fuenfzigAnz").innerText = "0";
    document.getElementById("zweiAnz").innerText = "0";
  }

  // Strafsekunden
  function fuenfziger() {
    fuenfzig += 1;
    document.getElementById("fuenfzigAnz").innerText = fuenfzig;
  }

  function kfuenfziger() {
    if (fuenfzig > 0) {
      fuenfzig -= 1;
      document.getElementById("fuenfzigAnz").innerText = fuenfzig;
    }
  }

  function zweier() {
    zwei += 1;
    document.getElementById("zweiAnz").innerText = zwei;
  }

  function kzweier() {
    if (zwei > 0) {
      zwei -= 1;
      document.getElementById("zweiAnz").innerText = zwei;
    }
  }
</script>

</body>
</html>
